\documentclass[notes]{beamer}
%\documentclass[handout]{beamer}

\include{base}

\title{CUCaTS Python Workshop}
\date{Lent 2015}

\begin{document}
	
	\begin{frame}[fragile]
		\maketitle
	\end{frame}
	
	\begin{frame}[fragile]
		\begin{quotation}
			Literacy is a bridge from misery to hope. It is a tool for daily life in modern society. It is a bulwark against poverty, and a building block of development, an essential complement to investments in roads, dams, clinics and factories. Literacy is a platform for democratization, and a vehicle for the promotion of cultural and national identity. Especially for girls and women, it is an agent of family health and nutrition. For everyone, everywhere, literacy is, along with education in general, a basic human right\dots Literacy is, finally, the road to human progress and the means through which every man, woman and child can realize his or her full potential.
		\end{quotation}
		\hfill  -- Kofi Annan
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Python}
		\begin{itemize}
			\item The \colorbox{jargonbg}{command prompt} allows you to navigate through folders and run programs. Open it and start \lstinline|python|.
			\begin{lstlisting}
			$\texttt{Python 3.4.2 (default, Dec 27 2014, 13:16:08)}$
			$\texttt{[GCC 4.9.2] on linux}$
			$\texttt{Type "help", "copyright", "credits" or "licen}$
			$\texttt{>>>}$
			\end{lstlisting}
			\item This is the \colorbox{jargonbg}{interpreter}.
			\item Type lines of Python code into it to run them.
			\item Changes here aren't permanent. Can close and start again.
		\end{itemize}
	\end{frame}
	
	\section{REPL - Values}
	
	\begin{frame}[fragile]
		\frametitle{Values}
		
		\begin{itemize}
			\item A program processes data.
			\item Data such as numbers, text, images, dates/time, sound, files and so on.
			\item Even complex and abstract things like a road network or the structure of a protein.
			\item A value is a piece of data stored in a computer's memory.
		\end{itemize}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Datatypes}
		
		All values have a datatype. Some examples:
		
		\begin{itemize}
			\item Numbers (integers, floats) \\
			e.g. \colorbox{codebg}{\lstinline|5|} or \colorbox{codebg}{\lstinline|9.6|}
			%\note<1>{Integers can hold whole numbers only. ``Floats", or floating-point numbers, are capable of fractional numbers as well. \\}
			
			\pause
			
			\item Strings \\
			\colorbox{codebg}{\lstinline|"Hello world!"|}
			%\note<3>{Strings can use single quotes or double quotes, but we will stick to double quotes for consistency. \\}
			
			\pause
			
			\item Booleans \\
			\colorbox{codebg}{\lstinline|True|} and \colorbox{codebg}{\lstinline|False|}
			%\note<2>{True/false values are called ``Booleans" (after George Boole). They are used for expression conditions.}
			
			\pause
			
			\item Lists \\
			\colorbox{codebg}{\lstinline|[4, 8, 15, 16, 23, 42]|} \\
			or \colorbox{codebg}{\lstinline|["first", "second", "fourth"]|} \\
			or even \colorbox{codebg}{\lstinline|[[], "some text", 99]|}
			%\note<4>{Lists hold a sequence of values. The third example is a list containing firstly an empty list, then a string and then an integer. As you can see, the elements of a list do not have to all be the same datatype. In Python, a list is simply a list, not a list \emph{of} something. \\}
			
			%\pause
			
			%\item Dictionaries
			% bother explaining them this early?
			
			% I'm thinking, don't mention tuples because it will be difficult to explain how they differ from lists
			
		\end{itemize}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Operations}
		
		Arithmetic:
		
		\begin{lstlisting}
		>>> 5 + 9
		14$\pause$
		>>> 7.5 * 2
		15.0
		\end{lstlisting}
		%\note<2>{Explain REPL. Note that the multiplication results in \lstinline|15.0|, a float, because \lstinline|7.5| was a float.}
		
		\pause
		
		Comparisons:
		
		\begin{lstlisting}
		>>> 5 > 6
		False
		>>> 9 == 18 / 2
		True
		\end{lstlisting}
		
		\pause
		
		String concatenation (joining):
		
		\begin{lstlisting}
		>>> "beans" + "talk"
		"beanstalk"
		\end{lstlisting}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Try it out}
		
		\begin{lstlisting}
		>>> "a" + "b"
		>>> "test" + "ing" == "testing"
		>>> 3 == "3"
		>>> "a" < "b"
		>>> "Na"*8 + " batman"
		\end{lstlisting}
		% Some basic operations on values
		% indexing, appending lists (needed in coming slides)
		% print
		% REPL
	\end{frame}

	\begin{frame}[fragile]
		\frametitle{Variables}
		\begin{itemize}
			\item Variables are labels put onto values. They allow us to refer to those values by a name.
			% NOT BOXES BECAUSE REFERENCE SEMANTICS
			%\note<1>{Variable names must consist only of letters, digits and underscores. They can't start with a digit or have spaces. They are case sensitive, i.e.}
		\end{itemize}
		
		\begin{onlyenv}<1-2>
			\begin{lstlisting}
			>>> x = 5
			>>> y = x+6
			>>> y
			11
			\end{lstlisting}
		\end{onlyenv}
		
		\pause
		
		\begin{itemize}
			\item They can be reassigned:
		\end{itemize}
		
		\begin{lstlisting}
		>>> x = 5
		>>> x = 7
		>>> x
		7
		\end{lstlisting}
		
		%\begin{itemize} \item Assignment does not create a new value: \end{itemize}%
		% save for later? allows delaying explaining list += list
		
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Accessing elements in lists}

		\note<1>{Let's make a list. To get items from the list, we use square brackets. What happens if we ask for the first element?}
		
		\begin{lstlisting}
		>>> days = ["Mon", "Tue", "Wed", "Thu",
		...         "Fri", "Sat", "Sun"]
		>>> days[1]$\pause$
		'Tue'
		\end{lstlisting}
		\note<2>{Tuesday? Why not Monday?}
		
		\pause
		
		\vspace{-3mm}
		
		\begin{itemize}
			\item First element is index \lstinline|0|.
			\item Think of the index as ``how many items into the list to move''.
		\end{itemize}
		
		\begin{lstlisting}
		>>> days[0] == "Mon"
		True
		\end{lstlisting}
		\note<3>{It's because indices start with zero in Python.}

		\pause
		
		\vspace{-3mm}
		
		\begin{itemize}
			\item Can also access in reverse.
		\end{itemize}
		
		\begin{lstlisting}
		>>> days[-1]
		'Sun'
		\end{lstlisting}
	
		\note<4>{We can also index into lists with negative numbers, to work backwards from the end of the list.}
		
		\pause
		
		\begin{table}
			\vspace{-2mm}
			\centering
			\begin{tabular}[c]{ccccccc}
				\lstinline|"Mon"| & \lstinline|"Tue"| & \lstinline|"Wed"| & \lstinline|"Thu"| & \lstinline|"Fri"| & \lstinline|"Sat"| & \lstinline|"Sun"| \\
				0 & 1 & 2 & 3 & 4 & 5 & 6 \\
				-7 & -6 & -5 & -4 & -3 & -2 & -1
			\end{tabular}
		\end{table}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Errors}
		
		\begin{itemize}
			\item There are rules governing what you can't do with certain types and values.
			\pause For example:
			\begin{itemize}
				\item Adding an integer to a string.
				\begin{lstlisting}[xleftmargin=\dimexpr-\leftmargini]
				>>> 16 + "hello"
				$\textrm{\color{red}TypeError: unsupported operand type(s) for +: `int' and `str'}$
				\end{lstlisting}
				
				\pause
				
				\item Indexing into something that is not a sequence.
				\begin{lstlisting}[xleftmargin=\dimexpr-\leftmargini]
				>>> 9.0[1]
				$\textrm{\color{red}TypeError: `float' object has no attribute `\_\_getitem\_\_'}$
				\end{lstlisting}
				
				\pause
				
				\item Asking for the sixth element of a list that only has four.
				\begin{lstlisting}[xleftmargin=\dimexpr-\leftmargini]
				>>> [4, 5, 6, 7][5]
				$\textrm{\color{red}IndexError: list index out of range}$
				\end{lstlisting}
				
				\pause
			\end{itemize}
			\item Designed to help you spots problems with your code.
		\end{itemize}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Try it out}
		
		\begin{lstlisting}
		>>> "this is a string" + 2
		>>> "this is a string" - "string"
		>>> 5/0
		
		>>> list = [1, 2, 3]
		>>> list[1.0]
		\end{lstlisting}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{The print function}
		\begin{lstlisting}
		print(value)
		\end{lstlisting}
		\begin{itemize}
			\item \lstinline|print| writes things onto the screen.
			\pause
			\item \lstinline|print| can print all kinds of values.
			\pause
			\item A useful function to see ``what's going on'' in your program.
		\end{itemize}
	\end{frame}
	
	\section{Files - Control flow}
	
	\begin{frame}[fragile]
		\frametitle{Making a program: writing Python code in a file}
		We have been using the interpreter. There is another way to use Python.
		\begin{itemize}
			\item We can save some Python commands in a file and then invoke the interpreter on the file.
			\pause
			\item Write \colorbox{codebg}{\lstinline|print("Hello!")|} in a file using your text editor and save it somewhere under the name \lstinline|my_python_script.py|.
			\item Note the \lstinline|.py| extension!
			\pause
			\item Open a command prompt at the folder where you saved the script and type in the name of your script (\lstinline|my_python_script.py|).
			\item The computer should respond: \texttt{Hello!}
		\end{itemize}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Control flow}
		The order that things happen in.

		\pause

		(Very) broadly:
		\begin{itemize}
			\item Loops
			\item Branches
			\item Function calls
		\end{itemize}

	\end{frame}

	\begin{frame}[fragile]
		\frametitle{`for' loops}
		
		Run a block of code for every element in a list. Indentation specifies the block.
		
		\begin{columns}[c]
			\column{.7\textwidth}
			\begin{lstlisting}
			>>> numbers = [1, 2, 3, 4, 5]
			>>> total = 0
			>>> for num in numbers:
			...     total = total + num
			$ % \note<1>{The line `for num in numbers' followed by the colon opens up a new block of code, which has to be indented. Everything in the block gets executed for each num in numbers. To indent, use four spaces! You can put multiple lines in a block, and they must each be indented.}
			\pause$
			>>> print(total)
			15
			\end{lstlisting}
			
			\column{.2\textwidth}
			\pause
			\begin{tabular}{l | r}
				\lstinline|num| & \lstinline|total| \\
				\, & 0 \\ \pause
				1 & 1 \\ \pause
				2 & 3 \\ \pause
				3 & 6 \\
				4 & 10 \\
				5 & 15 \\
			\end{tabular}
		\end{columns}
		
		% step by step on the side of the running total
		
		% whitespace...
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Processing lists}
		
		\begin{onlyenv}<1>
			\begin{lstlisting}
			>>> nums = [1, 2, 3, 4, 5]
			>>> squares = [1, 4, 9, 16, 25]
			\end{lstlisting}
			
			~ \\
			~ \\
			
		\end{onlyenv}
		
		\pause
		
		\begin{onlyenv}<2->
			\begin{lstlisting}
			>>> nums = [1, 2, 3, 4, 5]
			>>> squares = [x*x for x in nums]$\pause$
			>>> print(squares)
			[1, 4, 9, 16, 25]
			\end{lstlisting}
		\end{onlyenv}
		
		\pause
		
		\begin{itemize}
			\item Creates a new list out of another by using each element to create a corresponding new value.
			\item `\lstinline|for|' and `\lstinline|in|' are keywords.
			%\note<3->{Keywords are ones that have a special meaning. You cannot use them as variable names. List comprehensions must use `\lstinline|for|' and `\lstinline|in|'}
			\item This is called a \colorbox{jargonbg}{list comprehension}.
		\end{itemize}
	\end{frame}
	
	
	\begin{frame}[fragile]
		\frametitle{if-else}
		
		Provide two different pieces of code to run depending on some condition.\\
		\pause
		A condition is an expression that evaluates to a boolean, a truth value -- either \colorbox{codebg}{\lstinline|True|} or \colorbox{codebg}{\lstinline|False|}.
		
		% explain in the context of for loops, because otherwise the condition is going to be tautological and it won't be clear why providing a branch is useful
		% which is why if comes after for
		\pause
		\begin{lstlisting}
		if $\colorbox{spacebg}{\qquad}$:
		    $\colorbox{spacebg}{\quad}$ #Do something if the condition is true
		else:
		    $\colorbox{spacebg}{\quad}$ #Something else if it's false
		\end{lstlisting}
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{if-else examples}
		
		Let's write some code to go through a bunch of values in a list and output whether or not they are even or odd.
		
		\pause
		\begin{lstlisting}
		numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
		
		for x in numbers:
		    if (x % 2) == 0:
		        print(x, "is even.")
		    else:
		        print(x, "is odd.")
		\end{lstlisting}
		\pause
		Try it out!
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Functions}
		
		A function is a reusable piece of code. It takes an input value (\colorbox{jargonbg}{parameter}), processes it and gives back an output (\colorbox{jargonbg}{return value}). \pause
		
		\begin{itemize}
			\item Definition:
			\begin{lstlisting}[xleftmargin=\dimexpr-\leftmargini]
			def sum(numbers):
			    total = 0
			    for num in numbers:
			        total = total + num
			    return total
			\end{lstlisting}
			\pause
			
			\item Use:
			\begin{lstlisting}[xleftmargin=\dimexpr-\leftmargini]
			y = sum([1, 2, 3, 4, 5])
			# The value of y is now 15.
			\end{lstlisting}
		\end{itemize}
		
		The value of the function call is specified by \lstinline|return|, which ends the function.
	\end{frame}
	
	\begin{frame}[fragile]
		\frametitle{Functions}
		Functions can also take multiple parameters:
		\begin{lstlisting}
		def find(list, value):
		    for item in list:
		        if item == value:
		            return True
		
		    return False
		\end{lstlisting}
		\begin{lstlisting}
		print(find([1, 2, 3, 4], 5))
		# Gives "False"
		\end{lstlisting}
		
		\pause

		Try changing it to return the index, if found.
	\end{frame}
\end{document}
